(this["webpackJsonplibraries-at-home"]=this["webpackJsonplibraries-at-home"]||[]).push([[0],{454:function(e,t,a){e.exports=a.p+"static/media/about.1ea0fd5a.md"},455:function(e,t,a){e.exports=a.p+"static/media/accessibility.a43f53e5.md"},456:function(e,t,a){e.exports=a.p+"static/media/data.e34f2471.md"},457:function(e,t,a){e.exports=a.p+"static/media/privacy.a013c74b.md"},470:function(e,t,a){e.exports=a(529)},528:function(e,t,a){},529:function(e,t,a){"use strict";a.r(t);a(152),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(224),a(226),a(227),a(228),a(229),a(230),a(231),a(233),a(234),a(178),a(238),a(239),a(113),a(243),a(244),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(261),a(262),a(263),a(184),a(264),a(266),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(186),a(283),a(284),a(285),a(286),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(297),a(298),a(299),a(301),a(302),a(303),a(304),a(305),a(306),a(307),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(188),a(317),a(318),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(190),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(134),a(345),a(346),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(410),a(411),a(413),a(414),a(415),a(416),a(418),a(198),a(485),a(493),a(200);var n=a(0),r=a.n(n),i=a(20),c=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(501);var o=a(12),l=a(596),s=a(458),m=a.n(s),u=a(459),p=a.n(u),d=a(460),b=a(595),g=Object(n.createContext)(),f=function(e){var t=e.reducer,a=e.initialState,i=e.children;return r.a.createElement(g.Provider,{value:Object(n.useReducer)(t,a)},i)},h=function(){return Object(n.useContext)(g)},v=Object(n.createContext)(),E=function(e){var t=e.reducer,a=e.initialState,i=e.children;return r.a.createElement(v.Provider,{value:Object(n.useReducer)(t,a)},i)},y=function(){return Object(n.useContext)(v)},k=Object(n.createContext)(),x=function(e){var t=e.reducer,a=e.initialState,i=e.children;return r.a.createElement(k.Provider,{value:Object(n.useReducer)(t,a)},i)},O=function(){return Object(n.useContext)(k)},w=a(21),j=a.n(w),N=a(35),T=a(138),L=a(22),_=a(101),S=a(27),R=a(581),C=a(594),B=a(575),A=a(582),P=a(585),I=a(599),M=a(579),U=a(583),F=a(597),D=a(584),W=a(605),Y=a(464),z=a(441),V=a.n(z),H=a(205),G=a.n(H),J=a(437),Z=a.n(J),$=a(440),q=a.n($),X=a(150),K=a.n(X),Q=a(438),ee=a.n(Q),te=a(439),ae=a.n(te),ne=a(147),re=a.n(ne),ie=a(145),ce=a.n(ie),oe=a(442),le=a.n(oe),se=a(600),me=a(580),ue=a(602),pe=a(604),de=a(202),be=a(435),ge=a.n(be),fe=a(436),he=a.n(fe),ve=a(97),Ee=a.n(ve),ye=a(91);function ke(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(N.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.a.get(ye.postcodeApi+t);case 2:return a=e.sent,e.abrupt("return",{location:[a.data.longitude,a.data.latitude],library_service_name:a.data.library_service_name,library_service:a.data.library_service});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return we.apply(this,arguments)}function we(){return(we=Object(N.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t);case 2:if(n=e.sent,!((r=a.filter((function(e){return e.Code===n.library_service}))).length>0)){e.next=6;break}return e.abrupt("return",{service:r[0],location:n.location});case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=Object(B.a)((function(e){return{grow:{flexGrow:1},iconButton:{padding:10},inputInput:{paddingTop:e.spacing(),paddingRight:e.spacing(),paddingBottom:e.spacing(),paddingLeft:e.spacing(2),fontWeight:500},search:{position:"relative",border:"1px solid #E0E0E0",borderRadius:e.shape.borderRadius,backgroundColor:Object(de.fade)(e.palette.common.white,.8),"&:hover":{backgroundColor:Object(de.fade)(e.palette.common.white,.9)},marginLeft:0,marginRight:e.spacing(),display:"flex",maxWidth:240}}}));var Ne=function(e){var t=e.settings,a=h(),i=Object(L.a)(a,2),c=i[0].services,o=(i[1],y()),l=Object(L.a)(o,2),s=l[0],m=s.searchType,u=s.searchPostcode,p=(s.searchDistance,l[1]),d=O(),b=Object(L.a)(d,2);Object(T.a)(b[0]);var g=b[1],f=Object(n.useState)(u),v=Object(L.a)(f,2),E=v[0],k=v[1],x=Object(n.useState)(null),w=Object(L.a)(x,2),_=w[0],S=w[1],R=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}({searchPostcode:u});Object(n.useEffect)((function(){R&&u!==R.searchPostcode&&k(u)}),[u]);var C=function(){return S(null)},B=function(e){C(),p({type:"SetSearchDistance",searchDistance:e}),"postcode"===m&&A()},A=function(){var e=Object(N.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g({type:"ToggleLoadingPostcode"}),""!==E){e.next=4;break}return g({type:"ShowNotification",notificationMessage:"You must enter a postcode"}),e.abrupt("return");case 4:if(g({type:"LoadingPostcode"}),!function(e){return/^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$/.test(e)}(E.trim())){e.next=14;break}return e.next=9,Oe(E.trim(),c);case 9:t=e.sent,p({type:"SetPostcodeSearch",searchPostcode:E,searchPosition:t.location}),p({type:"SetService",service:t.service}),e.next=15;break;case 14:g({type:"ShowNotification",notificationMessage:"Could not find postcode"});case 15:g({type:"ToggleLoadingPostcode"});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=je();return r.a.createElement("div",{className:P.search},r.a.createElement(se.a,{placeholder:"Postcode",classes:{input:P.inputInput},value:E,onChange:function(e){return k(e.target.value.toUpperCase())}}),r.a.createElement("div",{className:P.grow}),"postcode"===m?r.a.createElement(W.a,{title:"Clear search"},r.a.createElement(M.a,{className:P.iconButton,onClick:function(){return p({type:"ClearAll"})}},r.a.createElement(ge.a,null))):null,r.a.createElement(W.a,{title:"Search by postcode"},r.a.createElement(M.a,{color:"primary",className:P.iconButton,onClick:function(){return A()}},r.a.createElement(ce.a,null))),t?r.a.createElement(W.a,{title:"Change search settings"},r.a.createElement(M.a,{className:P.iconButton,color:"secondary",onClick:function(e){!function(e){S(e.currentTarget)}(e)}},r.a.createElement(he.a,null))):null,r.a.createElement(ue.a,{id:"mnu-settings",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){return C()}},r.a.createElement(me.a,{disableSticky:!0},"Search distance"),r.a.createElement(pe.a,{onClick:function(){return B(1609)}},"1 mile"),r.a.createElement(pe.a,{onClick:function(){return B(4827)}},"3 miles"),r.a.createElement(pe.a,{onClick:function(){return B(8045)}},"5 miles"),r.a.createElement(pe.a,{onClick:function(){return B(16090)}},"10 miles"),r.a.createElement(pe.a,{onClick:function(){return B(32180)}},"20 miles"),r.a.createElement(pe.a,{onClick:function(){return B(80450)}},"50 miles")))},Te=Object(B.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"rgba(250, 250, 250, 0.8)",position:"relative"},grow:{flexGrow:1},iconTitle:{marginLeft:e.spacing(1)},tabBar:{borderTop:"1px solid #e8e8e8",borderBottom:"1px solid #e8e8e8"},title:{margin:e.spacing(2),display:"inline-block",verticalAlign:"middle"},topIcon:{backgroundColor:"rgba(250, 250, 250, 0.8)",border:"1px solid #e5e5e5","&:hover":{backgroundColor:"rgba(250, 250, 250, 0.8)"}},topTitle:{position:"relative",zIndex:e.zIndex.drawer+1}}}));var Le=function(e){var t=e.site,a=Object(n.useState)(!1),i=Object(L.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(t),s=Object(L.a)(l,2),m=s[0],u=s[1],p=Object(S.useLocation)(),d=Te(),b=[{title:"Libraries at home",url:"https://www.librariesathome.co.uk",icon:r.a.createElement(Z.a,null),links:[{title:r.a.createElement("span",{className:d.iconTitle},"Search"),short:r.a.createElement("span",{className:d.iconTitle},"Search"),icon:r.a.createElement(ce.a,null),to:"/"},{title:r.a.createElement("span",{className:d.iconTitle},"Watch"),short:r.a.createElement("span",{className:d.iconTitle},"Watch"),icon:r.a.createElement(re.a,null),to:"/watch"},{title:r.a.createElement("span",{className:d.iconTitle},"Read"),short:r.a.createElement("span",{className:d.iconTitle},"Read"),icon:r.a.createElement(ee.a,null),to:"/read"},{title:r.a.createElement("span",{className:d.iconTitle},"Listen"),short:r.a.createElement("span",{className:d.iconTitle},"Listen"),icon:r.a.createElement(ae.a,null),to:"/listen"}]},{title:"Mobile libraries",url:"https://www.mobilelibraries.org",icon:r.a.createElement(G.a,null),links:[{title:r.a.createElement("span",{className:d.iconTitle},"Mobile vans"),short:r.a.createElement("span",{className:d.iconTitle},"Vans"),icon:r.a.createElement(G.a,null),to:"/"},{title:r.a.createElement("span",{className:d.iconTitle},"Stop locations"),short:r.a.createElement("span",{className:d.iconTitle},"Stops"),icon:r.a.createElement(q.a,null),to:"/stops"},{title:r.a.createElement("span",{className:d.iconTitle},"Map"),short:r.a.createElement("span",{className:d.iconTitle},"Map"),icon:r.a.createElement(K.a,null),to:"/map"}]},{title:"Library map",url:"https://www.librarymap.co.uk",icon:r.a.createElement(K.a,null),links:[{title:r.a.createElement("span",{className:d.iconTitle},"Libraries"),short:r.a.createElement("span",{className:d.iconTitle},"Libraries"),icon:r.a.createElement(V.a,null),to:"/"},{title:r.a.createElement("span",{className:d.iconTitle},"Library map"),short:r.a.createElement("span",{className:d.iconTitle},"Map"),icon:r.a.createElement(K.a,null),to:"/map"}]}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{maxWidth:"lg",className:d.topTitle},r.a.createElement(M.a,{className:d.topIcon,color:"primary",onClick:function(){o(!c),u(t)}},r.a.createElement(le.a,null)),r.a.createElement(Y.a,{color:"secondary",variant:"h6",component:"h1",className:d.title},b[t].title)),c?r.a.createElement(A.a,{position:"static",color:"default",elevation:0,className:d.appBar},r.a.createElement(R.a,{maxWidth:"lg"},r.a.createElement(F.a,{className:d.tabBar,value:m,onChange:function(e,t){u(t)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary"},b.map((function(e,t){return r.a.createElement(U.a,{key:"tb_site_"+t,label:e.title,icon:e.icon})}))))):null,r.a.createElement(A.a,{position:"static",color:"inherit",elevation:0,className:d.appBar},r.a.createElement(R.a,{maxWidth:"lg"},r.a.createElement(D.a,null,r.a.createElement(I.a,{smUp:!0},b[m].links.map((function(e,a){return r.a.createElement(W.a,{title:e.title,key:"icnb_menu_md_"+a},r.a.createElement(M.a,{component:_.b,to:m===t?e.to:b[m].url+e.to,disableRipple:p.pathname===e.to,disableFocusRipple:p.pathname===e.to,color:m===t&&p.pathname===e.to?"secondary":"primary"},e.icon))}))),r.a.createElement(I.a,{xsDown:!0,mdUp:!0},b[m].links.map((function(e,a){return r.a.createElement(W.a,{title:e.title,key:"icnb_menu_lg_"+a},r.a.createElement(P.a,{component:_.b,to:m===t?e.to:b[m].url+e.to,disableRipple:p.pathname===e.to,disableFocusRipple:p.pathname===e.to,color:m===t&&p.pathname===e.to?"secondary":"primary",size:"large"},e.icon,e.short))}))),r.a.createElement(I.a,{smDown:!0},b[m].links.map((function(e,a){return r.a.createElement(W.a,{title:e.title,key:"icnb_menu_lg_"+a},r.a.createElement(P.a,{component:_.b,to:m===t?e.to:b[m].url+e.to,disableRipple:p.pathname===e.to,disableFocusRipple:p.pathname===e.to,color:m===t&&p.pathname===e.to?"secondary":"primary",size:"large"},e.icon,e.title))}))),r.a.createElement("span",{className:d.grow}),"/map"===p.pathname?r.a.createElement(Ne,null):null))))},_e=a(118),Se=a.n(_e),Re=a(586),Ce=a(587),Be=a(588),Ae=a(443),Pe=a.n(Ae),Ie=Object(B.a)((function(e){return{root:{paddingTop:e.spacing(5),marginTop:e.spacing(3),marginBottom:e.spacing(5),width:"100%"},grid:{marginTop:e.spacing(2)},loveIcon:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},footerText:{verticalAlign:"middle",display:"inline-flex"},footerRight:{textAlign:"right"},tapTarget:{lineHeight:2.2,fontSize:16}}}));var Me=function(){var e=Ie();return r.a.createElement("div",{className:e.root},r.a.createElement(Re.a,null),r.a.createElement(Ce.a,{container:!0,spacing:3,className:e.grid},r.a.createElement(Ce.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6},r.a.createElement(Y.a,{variant:"body1",className:e.footerText},"Built by Libraries Hacked"),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"button"},r.a.createElement(Be.a,{component:Se.a,to:"/about",title:"About Libraries at home",className:e.tapTarget},"About"),r.a.createElement("br",null),r.a.createElement(Be.a,{component:Se.a,to:"/accessibility",title:"How we make this site accessible",className:e.tapTarget},"Accessibility"),r.a.createElement("br",null),r.a.createElement(Be.a,{component:Se.a,to:"/privacy",title:"Your privacy on this site",className:e.tapTarget},"Privacy"),r.a.createElement("br",null),r.a.createElement(Be.a,{component:Se.a,to:"/data",title:"Data used on this site and licensing",className:e.tapTarget},"Data"))),r.a.createElement(Ce.a,{className:e.footerRight,item:!0,xs:12,sm:6,md:6,lg:6,xl:6},r.a.createElement(Y.a,{variant:"body1"},"Data help from"),r.a.createElement(Y.a,{variant:"button"},r.a.createElement(Be.a,{rel:"noopener",target:"_blank",href:"https://twitter.com/calire",title:"Claire",className:e.tapTarget},"@calire"),r.a.createElement("br",null),r.a.createElement(Be.a,{rel:"noopener",target:"_blank",href:"https://twitter.com/shedsue",title:"Sue",className:e.tapTarget},"@shedsue"),r.a.createElement("br",null),r.a.createElement(Be.a,{rel:"noopener",target:"_blank",href:"https://twitter.com/richardveevers",title:"Richard",className:e.tapTarget},"@richardveevers"),r.a.createElement("br",null),r.a.createElement(Pe.a,{color:"error",className:e.loveIcon})))))},Ue=a(463),Fe=a(448),De=a.n(Fe),We=a(447),Ye=a.n(We),ze=a(149),Ve=a.n(ze),He=a(444),Ge=a.n(He),Je=a(445),Ze=a.n(Je),$e=a(446),qe=a.n($e),Xe=a(449),Ke=a.n(Xe),Qe=a(598),et=a(589),tt=a(96),at=a.n(tt),nt=a(91),rt={InstagramIcon:Ge.a,FacebookIcon:Ze.a,TwitterIcon:qe.a},it=Object(B.a)((function(e){return{header:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textAlign:"center"},socialHeader:{textAlign:"center"},appsHeader:{marginTop:e.spacing(2),textAlign:"center"},root:{paddingTop:e.spacing(2)},serviceName:{fontWeight:500},social:{display:"flex",alignItems:"center",justifyContent:"center"},alert:{backgroundColor:"white"},apps:{display:"flex",alignItems:"center",justifyContent:"center"},socialIcon:{margin:e.spacing(1)},appsIcon:{margin:e.spacing(1)},leadButton:{marginTop:e.spacing(1)},linkContainer:{marginTop:e.spacing(2),padding:e.spacing(2)},linkText:{columnWidth:"16em"},columnLink:{verticalAlign:"middle",display:"inline-flex"}}}));var ct=function(){var e=y(),t=Object(L.a)(e,2),a=t[0].service,n=(t[1],it());return r.a.createElement("div",{className:n.root},a&&Object.keys(a).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:n.header,component:"h2",variant:"h5"},"Your library service is ",r.a.createElement("span",{className:n.serviceName},a.Name)),a["Reopen date"]?r.a.createElement(Qe.a,{className:n.alert,severity:"warning",variant:"outlined"},r.a.createElement(et.a,null,"Information on reopening"),"From "+at()(a["Reopen date"]).format("Do MMMM")+" "+a["Reopen info"]+". ",r.a.createElement(P.a,{color:"warning",component:"a",target:"_blank",href:a["Reopen info URL"]},"Find out more about reopening")):null,r.a.createElement(Y.a,{className:n.socialHeader,component:"h3",variant:"h6"},"Connect on social media"),r.a.createElement("div",{className:n.social},nt.services_text.social.filter((function(e){return e.field in a})).map((function(e,t){var i=rt[e.icon];return r.a.createElement(M.a,{key:"icn_social_"+t,component:"a",className:n.socialIcon,target:"_blank",href:e.url+a[e.field],title:e.title},r.a.createElement(i,null))}))),r.a.createElement(Ce.a,{container:!0,spacing:3},nt.services_text.library_service.filter((function(e){return e.field in a})).map((function(e,t){return r.a.createElement(Ce.a,{key:"grd_service_"+t,item:!0,xs:12,sm:6,md:4,lg:4,xl:4},r.a.createElement(Qe.a,{className:n.alert,severity:"info",variant:"outlined"},r.a.createElement(et.a,null,e.title.replace("[service]",a.Name)),e.description,r.a.createElement("br",null),r.a.createElement(P.a,{className:n.leadButton,size:"large",color:"primary",startIcon:r.a.createElement(Ye.a,null),target:"_blank",href:a[e.field]},e.link_text)))}))),r.a.createElement(Ue.a,{variant:"outlined",className:n.linkContainer},r.a.createElement(Y.a,{component:"h3",variant:"h6",className:n.header},"Useful links"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:n.linkText},nt.services_text.service_links.filter((function(e){return e.field in a})).map((function(e,t){return r.a.createElement(Y.a,{key:"typ_links_"+t,component:"span",className:n.columnLink},r.a.createElement(Ve.a,null),r.a.createElement(Be.a,{key:"typ_link_"+t,target:"_blank",href:a[e.field],variant:"body1"},e.text),r.a.createElement("br",null))})))),a["Android app URL"]||a["iOS app URL"]?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:n.appsHeader,component:"h3",variant:"h6"},"Use the library on your phone"),r.a.createElement("div",{className:n.apps},a["Android app URL"]?r.a.createElement(M.a,{component:"a",className:n.socialIcon,target:"_blank",href:a["Android app URL"],title:"Library app for Android"},r.a.createElement(De.a,null)):null,a["iOS app URL"]?r.a.createElement(M.a,{component:"a",className:n,target:"_blank",href:a["iOS app URL"],title:"Library app for iOS"},r.a.createElement(Ke.a,null)):null)):null):null)},ot=Object(B.a)((function(e){return{search:{alignContent:"center",textAlign:"center",display:"table",marginLeft:"auto",marginRight:"auto",marginBottom:"10px"},subtitle:{textAlign:"center",marginBottom:"5px"},title:{textAlign:"center"}}}));var lt=function(){var e=ot();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h2",variant:"h6",className:e.title},"Your library service"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:e.subtitle},"Search by postcode to find out about library services in your area"),r.a.createElement("div",{className:e.search},r.a.createElement(Ne,{settings:!1})),r.a.createElement(ct,null))},st=a(590),mt=a(593),ut=a(592),pt=a(591),dt=a(603),bt=a(450),gt=a.n(bt),ft=a(606),ht=a(91);function vt(){return Et.apply(this,arguments)}function Et(){return(Et=Object(N.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ht.servicesApi,e.next=3,Ee.a.get(t);case 3:if(!(a=e.sent)||!a.data){e.next=6;break}return e.abrupt("return",a.data);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return kt.apply(this,arguments)}function kt(){return(kt=Object(N.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ht.videoApi,e.next=3,Ee.a.get(t);case 3:if(!(a=e.sent)||!a.data){e.next=6;break}return e.abrupt("return",a.data.items);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(N.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ht.blogsApi,e.next=3,Ee.a.get(t);case 3:if(!(a=e.sent)||!a.data){e.next=6;break}return e.abrupt("return",a.data.items);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=a(91),jt=Object(B.a)((function(e){return{subtitle:{textAlign:"center"},card:{position:"relative"},media:{height:150},overlay:{fontWeight:500,color:"#ffffff",position:"absolute",top:"0px",left:"0px",backgroundColor:"rgba(0, 0, 0, 0.6)",width:"100%"},rating:{marginLeft:e.spacing(1)},video:{maxWidth:"100%"}}}));var Nt=function(){var e=this,t=h(),a=Object(L.a)(t,2),i=a[0],c=i.videos,o=i.services,l=(a[1],O()),s=Object(L.a)(l,2),m=(s[0].loadingVideos,s[1],jt()),u=Object(n.useState)(!1),p=Object(L.a)(u,2),d=p[0],b=p[1],g=Object(n.useState)(""),f=Object(L.a)(g,2),v=f[0],E=f[1],y=function(e){b(!0),E("https://www.youtube.com/embed/"+e.replace("yt:video:",""))},k=c.reduce((function(e,t){var a=new Date(t.date),n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return(e[n]=e[n]||[]).push(t),e}),{}),x={};return o.forEach((function(e){e["YouTube ID"]&&(x[e["YouTube ID"]]=e)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h2",variant:"h6",className:m.subtitle},"Library TV"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:m.subtitle},"Watch videos published by library services on YouTube"),Object.keys(k).map((function(t,a){return r.a.createElement(r.a.Fragment,{key:"frg_dates_"+a},r.a.createElement(me.a,{component:"div",disableSticky:!0},at()(t,"YYYY-MM-DD").calendar(null,wt.calendarDisplay)),r.a.createElement(Ce.a,{container:!0,spacing:3},k[t].map((function(t,a){var n=t.custom_elements,i=n.filter((function(e){return"media:group"===Object.keys(e)[0]}))[0]["media:group"],c=i.filter((function(e){return"media:thumbnail"===Object.keys(e)[0]}))[0]["media:thumbnail"],o=i.filter((function(e){return"media:community"===Object.keys(e)[0]}))[0]["media:community"].filter((function(e){return"media:starrating"===Object.keys(e)[0]}))[0]["media:starrating"],l=o._attr.average,s=n.filter((function(e){return"yt:channelid"===Object.keys(e)[0]}))[0]["yt:channelid"],u=x[s],p=function(e){var t=ht.youTubeUrl,a={UC:["channel/","Channel"],PL:["playlist/","Playlist"]}[e.substring(0,2)];return{url:t+(a?a[0]:"user/")+e,type:a?a[1]:"Account"}}(s);return r.a.createElement(Ce.a,{key:"grd_vids_"+a,item:!0,xs:12,sm:6,md:4,lg:4,xl:3},r.a.createElement(st.a,{variant:"outlined",className:m.card},r.a.createElement(pt.a,{className:m.media,image:c._attr.url,title:t.title}),r.a.createElement(ut.a,{className:m.overlay},r.a.createElement(Y.a,{variant:"caption",component:"p"},t.title)),r.a.createElement(mt.a,null,r.a.createElement(P.a,{size:"small",color:"primary",startIcon:r.a.createElement(re.a,null),onClick:y.bind(e,t.guid)},"Play"),u?r.a.createElement(P.a,{size:"small",color:"primary",startIcon:r.a.createElement(gt.a,null),target:"_blank",rel:"noopener",href:p.url},u.Name):null,o&&l&&l>0?r.a.createElement(W.a,{title:l?"Rated "+l:"No rating","aria-label":"add"},r.a.createElement("span",null,r.a.createElement(ft.a,{size:"small",className:m.rating,name:"read-only",value:l,precision:.5,readOnly:!0}))):null)))}))),r.a.createElement("br",null))})),r.a.createElement(dt.a,{maxWidth:"sm",onClose:function(){b(!1),E("")},"aria-labelledby":"YouTube dialog",open:d},r.a.createElement("iframe",{title:"Video",className:m.video,width:"560",height:"315",src:v,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})))},Tt=a(91),Lt=Object(B.a)((function(e){return{columnLink:{verticalAlign:"middle",display:"inline-flex"},header:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},linkContainer:{marginTop:e.spacing(2),padding:e.spacing(2)},link:{display:"inline"},linkText:{columnWidth:"16em"}}}));var _t=function(){var e=h(),t=Object(L.a)(e,2),a=t[0].blogs,n=(t[1],Lt()),i=a.reduce((function(e,t){var a=new Date(t.date),n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return(e[n]=e[n]||[]).push(t),e}),{});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{variant:"outlined",className:n.linkContainer},r.a.createElement(Y.a,{component:"h3",variant:"h6",className:n.header},"Recent library blogs"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:n.linkText},Object.keys(i).slice(0,3).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"frg_blogdates_"+t},r.a.createElement(me.a,{component:"span",className:n.columnLink},at()(e,"YYYY-MM-DD").calendar(null,Tt.calendarDisplay)),r.a.createElement("br",null),i[e].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"typ_links_"+t},r.a.createElement(Y.a,{component:"span",className:n.columnLink},r.a.createElement(Ve.a,null),r.a.createElement(Be.a,{className:n.link,key:"typ_link_"+t,target:"_blank",rel:"noopener",href:e.url,variant:"body1"},e.title)),r.a.createElement("br",null))})))})))))},St=Object(B.a)((function(e){return{subtitle:{textAlign:"center"}}}));var Rt=function(){var e=St();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h2",variant:"h6",className:e.subtitle},"Read"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:e.subtitle},"See what library services are writing"),r.a.createElement(_t,null))},Ct=a(451),Bt=a.n(Ct),At=a(91),Pt=Object(B.a)((function(e){return{columnLink:{verticalAlign:"middle",display:"inline-flex"},header:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},linkContainer:{marginTop:e.spacing(2),padding:e.spacing(2)},link:{display:"inline"},linkText:{columnWidth:"16em"}}}));var It=function(){var e=h(),t=Object(L.a)(e,2),a=t[0].services,n=(t[1],Pt());return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{variant:"outlined",className:n.linkContainer},r.a.createElement(Y.a,{component:"h3",variant:"h6",className:n.header},"Library podcasts"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:n.linkText},a.filter((function(e){return e["Podcast URL"]&&""!==e["Podcast URL"]})).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"frg_podcasts_"+t},r.a.createElement(Y.a,{component:"span",className:n.columnLink},r.a.createElement(Bt.a,null),r.a.createElement("span",null,e[At.podcasts.service_name_field],".\xa0"),r.a.createElement(Be.a,{className:n.link,rel:"noopener",target:"_blank",href:e[At.podcasts.url_field],variant:"body1"},e[At.podcasts.podcast_name_field])),r.a.createElement("br",null))})))))},Mt=Object(B.a)((function(e){return{subtitle:{textAlign:"center"}}}));var Ut=function(){var e=Mt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h2",variant:"h6",className:e.subtitle},"Listen"),r.a.createElement(Y.a,{component:"p",variant:"body1",className:e.subtitle},"Beautiful noise"),r.a.createElement(It,null))},Ft=a(461),Dt=a(452),Wt=a(6),Yt=Object(B.a)((function(e){return{listItem:{marginTop:e.spacing(1)},root:{"& table":{display:"block",wordBreak:"normal",width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",borderCollapse:"collapse",marginBottom:"16px",borderSpacing:0,overflow:"hidden","& .prop-name":{fontSize:13,fontFamily:'Consolas, "Liberation Mono", Menlo, monospace'},"& .required":{color:"light"===e.palette.type?"#006500":"#a5ffa5"},"& .prop-type":{fontSize:13,fontFamily:'Consolas, "Liberation Mono", Menlo, monospace',color:"light"===e.palette.type?"#932981":"#ffb6ec"},"& .prop-default":{fontSize:13,fontFamily:'Consolas, "Liberation Mono", Menlo, monospace',borderBottom:"1px dotted ".concat(e.palette.divider)}},"& td":Object(o.a)(Object(o.a)({},e.typography.body2),{},{borderBottom:"1px solid ".concat(e.palette.divider),padding:16,color:e.palette.text.primary}),"& th":{fontSize:14,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium,color:e.palette.text.primary,whiteSpace:"pre",borderBottom:"1px solid ".concat(e.palette.divider),padding:16}}}})),zt={overrides:{h1:{component:Y.a,props:{gutterBottom:!0,variant:"h3",color:"secondary"}},h2:{component:Y.a,props:{gutterBottom:!0,variant:"h4",color:"secondary"}},h3:{component:Y.a,props:{gutterBottom:!0,variant:"h5",color:"secondary"}},h4:{component:Y.a,props:{gutterBottom:!0,variant:"h6",paragraph:!0,color:"secondary"}},p:{component:Y.a,props:{paragraph:!0,color:"secondary"}},a:{component:Be.a},li:{component:Object(Wt.a)(Yt)((function(e){var t=e.classes,a=Object(Ft.a)(e,["classes"]);return r.a.createElement("li",{className:t.listItem},r.a.createElement(Y.a,Object.assign({component:"span"},a)))}))}}};var Vt=function(e){var t=e.page,a=Object(n.useState)(""),i=Object(L.a)(a,2),c=i[0],o=i[1],l=Yt();return Object(n.useEffect)((function(){function e(){return(e=Object(N.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(Dt.a,Object.assign({className:l.root,options:zt},e),c)},Ht=a(454),Gt=a.n(Ht),Jt=a(455),Zt=a.n(Jt),$t=a(456),qt=a.n($t),Xt=a(457),Kt=a.n(Xt),Qt=Object(B.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(2)},root:{flexGrow:1}}}));var ea=function(){var e=O(),t=Object(L.a)(e,1)[0],a=t.loadingServices,i=t.loadingVideos,c=t.loadingBlogs,o=t.loadingPostcode,l=h(),s=Object(L.a)(l,2),m=s[0],u=(m.videos,m.blogs,m.services,m.service,s[1]),p=O(),d=Object(L.a)(p,2);Object(T.a)(d[0]);var b=d[1];Object(n.useEffect)((function(){function e(){return(e=Object(N.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"ToggleLoadingServices"}),e.next=3,vt();case 3:t=e.sent,u({type:"AddServices",services:t}),b({type:"ToggleLoadingServices"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(N.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"ToggleLoadingVideos"}),e.next=3,yt();case 3:t=e.sent,u({type:"AddVideos",videos:t}),b({type:"ToggleLoadingVideos"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(N.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"ToggleLoadingBlogs"}),e.next=3,xt();case 3:t=e.sent,u({type:"AddBlogs",blogs:t}),b({type:"ToggleLoadingBlogs"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[u,b]);var g=Qt(),f=a||i||c||o;return r.a.createElement(_.a,null,r.a.createElement("div",{className:g.root},r.a.createElement(Le,{site:0,loading:a||i||c}),f?r.a.createElement(C.a,{color:"primary"}):null,r.a.createElement(R.a,{maxWidth:"lg"},r.a.createElement("main",{className:g.content},r.a.createElement(S.Route,{path:"/",exact:!0,render:function(){return r.a.createElement(lt,null)}}),r.a.createElement(S.Route,{path:"/watch",exact:!0,render:function(){return r.a.createElement(Nt,null)}}),r.a.createElement(S.Route,{path:"/read",exact:!0,render:function(){return r.a.createElement(Rt,null)}}),r.a.createElement(S.Route,{path:"/listen",exact:!0,render:function(){return r.a.createElement(Ut,null)}}),r.a.createElement(S.Route,{path:"/about",exact:!0,render:function(){return r.a.createElement(Vt,{page:Gt.a})}}),r.a.createElement(S.Route,{path:"/accessibility",exact:!0,render:function(){return r.a.createElement(Vt,{page:Zt.a})}}),r.a.createElement(S.Route,{path:"/data",exact:!0,render:function(){return r.a.createElement(Vt,{page:qt.a})}}),r.a.createElement(S.Route,{path:"/privacy",exact:!0,render:function(){return r.a.createElement(Vt,{page:Kt.a})}}),r.a.createElement(S.Route,{path:["/http:","/https:"],component:function(e){return window.location.replace(e.location.pathname.substr(1)),null}}))),r.a.createElement(R.a,{maxWidth:"lg"},r.a.createElement(Me,null))))},ta={services:[],videos:[],blogs:[]},aa=function(e,t){switch(t.type){case"AddServices":return Object(o.a)(Object(o.a)({},e),{},{services:t.services});case"AddVideos":return Object(o.a)(Object(o.a)({},e),{},{videos:t.videos});case"AddBlogs":return Object(o.a)(Object(o.a)({},e),{},{blogs:t.blogs});default:return e}},na={searchPostcode:"",searchType:"",searchDistance:1609,searchPosition:[],service:{}},ra=function(e,t){switch(t.type){case"SetSearchDistance":return Object(o.a)(Object(o.a)({},e),{},{searchDistance:t.searchDistance});case"SetPostcodeSearch":return Object(o.a)(Object(o.a)({},e),{},{searchPostcode:t.searchPostcode,searchPosition:t.searchPosition,searchType:"postcode"});case"SetService":return Object(o.a)(Object(o.a)({},e),{},{service:t.service});case"ClearAll":return Object(o.a)(Object(o.a)({},e),{},{searchPostcode:"",searchPosition:[],searchType:"",service:{}});default:return e}},ia={notificationOpen:!1,notificationMessage:"",loadingPostcode:!1,loadingServices:!1,loadingVideos:!1,loadingBlogs:!1},ca=function(e,t){switch(t.type){case"SetNotificationMessage":return Object(o.a)(Object(o.a)({},e),{},{notificationMessage:t.notificationMessage});case"SetNotification":return Object(o.a)(Object(o.a)({},e),{},{notificationOpen:t.notificationOpen});case"ShowNotification":return Object(o.a)(Object(o.a)({},e),{},{notificationOpen:!0,notificationMessage:t.notificationMessage});case"SetPostcodeSearch":return Object(o.a)(Object(o.a)({},e),{},{loadingPostcode:!1,mapPosition:t.mapPosition,mapZoom:[13]});case"ToggleLoadingPostcode":return Object(o.a)(Object(o.a)({},e),{},{loadingPostcode:!e.loadingPostcode});case"ToggleLoadingServices":return Object(o.a)(Object(o.a)({},e),{},{loadingServices:!e.loadingServices});case"ToggleLoadingVideos":return Object(o.a)(Object(o.a)({},e),{},{loadingVideos:!e.loadingVideos});case"ToggleLoadingBlogs":return Object(o.a)(Object(o.a)({},e),{},{loadingBlogs:!e.loadingBlogs});default:return e}},oa=Object(d.a)({palette:{primary:{main:m.a[800]},secondary:{main:p.a[600]}},overrides:{MuiButton:{text:{textTransform:"none"},root:{textTransform:"none"}},MuiTypography:{button:{textTransform:"none"}},MuiTab:{root:{textTransform:"none"}}}});var la=function(){return r.a.createElement(f,{initialState:ta,reducer:aa},r.a.createElement(E,{initialState:na,reducer:ra},r.a.createElement(x,{initialState:ia,reducer:ca},r.a.createElement(b.a,{theme:oa},r.a.createElement(l.a,null),r.a.createElement(ea,null)))))};a(528);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(la,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e){e.exports=JSON.parse('{"postcodeApi":"https://api-geography.librarydata.uk/rest/postcodes/","videoApi":"https://api.librarydata.uk/services/airtable/feeds/youtube.json","blogsApi":"https://api.librarydata.uk/services/airtable/feeds/blogs.json","servicesApi":"https://api.librarydata.uk/services/airtable","youTubeUrl":"https://www.youtube.com/","calendarDisplay":{"lastDay":"[From Yesterday]","sameDay":"[New Today]","nextDay":"[Tomorrow]","lastWeek":"[Last] dddd","nextWeek":"dddd","sameElse":"L"},"services_text":{"social":[{"field":"Instagram name","icon":"InstagramIcon","url":"https://www.instagram.com/","title":"See library pictures on Instagram"},{"field":"Facebook page name","icon":"FacebookIcon","url":"https://www.facebook.com/","title":"Follow the library on Facebook"},{"field":"Twitter handle","icon":"TwitterIcon","url":"https://twitter.com/","title":"See library tweets on twitter"}],"library_service":[{"field":"Service URL","title":"Visit [service] libraries website","description":"Information to help you use your library","link_text":"Go to the website"},{"field":"Catalogue URL","title":"Browse the catalogue","description":"Find items in your libraries","link_text":"Online catalogue"},{"field":"New member URL","title":"Join [service] libraries","description":"Start having fun with libraries","link_text":"Join now"},{"field":"Childrens service URL","title":"Info for children","description":"Libraries are for everyone","link_text":"See children\'s services"},{"field":"Audiobook URL","title":"Library audiobooks","description":"Listen to stories from libraries","link_text":"Find an audiobook"},{"field":"Ebook URL","title":"Library ebooks","description":"Read ebooks on your devices","link_text":"Find an ebook"}],"service_links":[{"field":"Libraries URL","text":"Find your local library"},{"field":"Mobile libraries URL","text":"Find out when the mobile library visits"},{"field":"Home service URL","text":"Check if the library service can come to your home"},{"field":"Events URL","text":"See events going on in libraries"},{"field":"Computer access URL","text":"Use a computer in the library"},{"field":"Wifi access URL","text":"Use Wifi on your own device in the library"},{"field":"Fees and charges URL","text":"Understand the fees and charges for library services"},{"field":"News or Blog URL","text":"Read latest news from the library"},{"field":"Podcast URL","text":"Listen to a library Podcast"}]},"podcasts":{"service_name_field":"Name","podcast_name_field":"Podcast name","url_field":"Podcast URL"}}')}},[[470,1,2]]]);
//# sourceMappingURL=main.9fd057a1.chunk.js.map